# Covid Area Alerts App
<img src="https://img.shields.io/badge/node-v16.3.0-brightgreen"/> <img src="https://img.shields.io/badge/npm-v7.19.0-brightgreen"/> <img src="https://img.shields.io/badge/expo_cli-v4.7.2-brightgreen"/> <img src="https://img.shields.io/badge/aws_cli-v2.2.14-brightgreen"/><img src="https://img.shields.io/badge/amplify-v5.1.0-brightgreen"/>

This app tells you the restrictions on your current local authority area, it will also alert you when moving across local authority boundaries.

## Getting Started

### Prerequisites
Application uses Expo and AWS Amplify
```
npm install -g expo-cli
npm install -g @aws-amplify/cli
```
Tested with Node v16.3, reccomend using NVM for versioning until new Node versions are tested.

Amplify requires configuration once installed, during configuration it reccomends creating a user role with admin permissions to enable full functionality
```
amplify configure
```
Full walkthrough for Amplify is available [here](https://docs.amplify.aws/cli/start/install#install-the-amplify-cli).


### Setup
Clone the repo and then navigate to the folder
```
git clone https://github.com/Kainos-Applied-Innovation/covid-area-app && cd ./covid-area-app/
```

#### Backend
##### Fresh Project
If creating a new project initalise and setup a new amplify environment;
```
amplify init
```

The to create the backend resources in AWS, run;
```
amplify push
```

For now, until imporvements are made, you'll need to capture the API Endpoint and DB key and use those in the [scripts]("./scripts") to initise the storage.


##### Shared Project
If using a shared enviroment, the steps are different be sure to include the correct `amplify/team-provider-info.json` generated by amplify first, then run;
```
amplify init # and pick the correct environment
amplift pull
```

#### Frontend

Install expo in the repo, then use npm to install the relevant packages

```
expo install
npm install
```

then start the Babel build of the Front-End with;
```
expo start
```

If you have a real device you can install the Expo app from the App/Play store and then scan the QR code from the bundler app. You will need real devices in order to test push notifications.

## Running Tests
For End-to-end testing we currently use Cypress to run the testing suite, first start the application;
```
expo start
```

then run cypress and run the test suite through the UI

```
npx cypress
```

## Deployment
### Backend
Backend deployment is handled by Amplify;
```
amplify push
```

## To Do
Pending developments in a rough priority
* Testing (Cypress, Jest and Amplify)
* Front-end and flow improvements
* [Offline Sync](https://aws.amazon.com/blogs/mobile/aws-appsync-offline-reference-architecture/)
* Cleaner Data Model
* Scrapping Sync

## Built With
* Expo
* Amplify
* Coffee

## Contributing
For changes, fork repo, create a feature branch, squash your commits and raise a PR!

Please read this [CONTRIBUTING.md](https://gist.github.com/PurpleBooth/b24679402957c63ec426) for details on a code of conduct, and the process for submitting pull requests to us until an indivuial guide as been developed for this project.

## Versioning
Current version: 0.1.0 (Active Development)

## Authors
* **Marc Nevin** - *Initial setup*

## License
TBA

## Acknowledgments

* Rebuild of the Scottish Tech Armys [project](https://github.com/Scottish-Tech-Army/covid-area-app)
